import{a as w,b as A}from"./chunk-BCPCSMU2.js";import{a as I}from"./chunk-4Q6TRDAS.js";import{d as S,e as y,f as O}from"./chunk-SXGBHULN.js";import"./chunk-EB5YHKWW.js";import{j as P}from"./chunk-JFU3JZIN.js";import{a as M,c as x}from"./chunk-TWWUOU6R.js";import{k as _}from"./chunk-OJNKK6II.js";import{Bb as b,Cb as e,Db as t,Eb as g,Pb as m,Rb as E,Sa as u,Y as c,da as D,dc as n,ea as h,ec as d,fb as f,oa as v,ub as C,vb as l,wb as s}from"./chunk-QZLPLYI5.js";import{f as p}from"./chunk-ATWMZ64T.js";function T(o,r){if(o&1&&(e(0,"div",6)(1,"mat-icon"),n(2,"error"),t(),e(3,"span"),n(4),t()()),o&2){let i=E();u(4),d(i.authService.error())}}function B(o,r){o&1&&g(0,"mat-spinner",8)}function L(o,r){o&1&&(D(),e(0,"svg",12),g(1,"path",13)(2,"path",14)(3,"path",15)(4,"path",16),t(),h(),e(5,"span"),n(6,"\u05D4\u05EA\u05D7\u05D1\u05E8\u05D5\u05EA \u05E2\u05DD Google"),t())}var k=class o{router=c(x);route=c(M);authService=c(P);themeService=c(I);isSubmitting=v(!1);signInWithGoogle(){return p(this,null,function*(){this.isSubmitting.set(!0),this.authService.clearError();try{yield this.authService.signInWithGoogle();let r=sessionStorage.getItem("pendingInviteId");if(r){sessionStorage.removeItem("pendingInviteId"),this.router.navigate(["/accept-invite",r]);return}let i=this.route.snapshot.queryParams.returnUrl||"/family-select";this.router.navigateByUrl(i)}catch{}finally{this.isSubmitting.set(!1)}})}static \u0275fac=function(i){return new(i||o)};static \u0275cmp=f({type:o,selectors:[["app-login"]],decls:22,vars:5,consts:[[1,"auth-page"],[1,"auth-container"],[1,"theme-toggle",3,"click"],[1,"auth-card"],[1,"auth-header"],[1,"auth-logo"],[1,"error-message"],[1,"google-button",3,"click","disabled"],["diameter","20"],[1,"auth-footer"],[1,"privacy-note"],[1,"app-tagline"],["viewBox","0 0 24 24",1,"google-icon"],["fill","#4285F4","d","M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"],["fill","#34A853","d","M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"],["fill","#FBBC05","d","M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"],["fill","#EA4335","d","M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"]],template:function(i,a){i&1&&(e(0,"div",0)(1,"div",1)(2,"button",2),m("click",function(){return a.themeService.cycleTheme()}),e(3,"mat-icon"),n(4),t()(),e(5,"div",3)(6,"div",4)(7,"span",5),n(8,"\u{1F468}\u200D\u{1F469}\u200D\u{1F467}\u200D\u{1F466}"),t(),e(9,"h1"),n(10,"\u05D1\u05E8\u05D5\u05DB\u05D9\u05DD \u05D4\u05D1\u05D0\u05D9\u05DD"),t(),e(11,"p"),n(12,"\u05D4\u05EA\u05D7\u05D1\u05E8\u05D5 \u05DC\u05E0\u05D9\u05D4\u05D5\u05DC \u05D4\u05DE\u05E9\u05E4\u05D7\u05D4 \u05E9\u05DC\u05DB\u05DD"),t()(),l(13,T,5,1,"div",6),e(14,"button",7),m("click",function(){return a.signInWithGoogle()}),l(15,B,1,0,"mat-spinner",8)(16,L,7,0),t(),e(17,"div",9)(18,"p",10),n(19," \u05D1\u05D4\u05EA\u05D7\u05D1\u05E8\u05D5\u05EA \u05D0\u05EA\u05DD \u05DE\u05E1\u05DB\u05D9\u05DE\u05D9\u05DD \u05DC\u05EA\u05E0\u05D0\u05D9 \u05D4\u05E9\u05D9\u05DE\u05D5\u05E9 \u05D5\u05DE\u05D3\u05D9\u05E0\u05D9\u05D5\u05EA \u05D4\u05E4\u05E8\u05D8\u05D9\u05D5\u05EA "),t()()(),e(20,"p",11),n(21,"\u05E0\u05D9\u05D4\u05D5\u05DC \u05D6\u05DE\u05DF \u05DE\u05E9\u05E4\u05D7\u05EA\u05D9 \u05D7\u05DB\u05DD"),t()()()),i&2&&(u(2),C("aria-label","\u05E2\u05E8\u05DB\u05EA \u05E0\u05D5\u05E9\u05D0: "+a.themeService.getThemeLabel()),u(2),d(a.themeService.getThemeIcon()),u(9),s(a.authService.error()?13:-1),u(),b("disabled",a.isSubmitting()),u(),s(a.isSubmitting()?15:16))},dependencies:[_,S,O,y,A,w],styles:[".auth-page[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:var(--surface-app);padding:1rem}.auth-container[_ngcontent-%COMP%]{width:100%;max-width:400px;position:relative}.theme-toggle[_ngcontent-%COMP%]{position:absolute;top:-3rem;left:0;background:var(--surface-primary);border:1px solid var(--border-default);border-radius:50%;width:40px;height:40px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease}.theme-toggle[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--text-secondary)}.theme-toggle[_ngcontent-%COMP%]:hover{background:var(--surface-hover);border-color:var(--border-strong)}.auth-card[_ngcontent-%COMP%]{background:var(--surface-primary);border-radius:1.5rem;padding:2.5rem 2rem;box-shadow:var(--shadow-lg);border:1px solid var(--border-subtle)}.auth-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.auth-header[_ngcontent-%COMP%]   .auth-logo[_ngcontent-%COMP%]{font-size:4rem;display:block;margin-bottom:1.5rem}.auth-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:700;color:var(--text-primary);margin:0 0 .5rem}.auth-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);margin:0;font-size:1rem}.error-message[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-2);padding:var(--spacing-3) var(--spacing-4);background:var(--error-bg);color:var(--color-error);border-radius:var(--radius-lg);font-size:var(--font-size-sm);margin-bottom:var(--spacing-6)}.error-message[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.google-button[_ngcontent-%COMP%]{width:100%;height:52px;display:flex;align-items:center;justify-content:center;gap:.75rem;background:var(--surface-primary);border:2px solid var(--border-default);border-radius:.75rem;font-size:1rem;font-weight:500;color:var(--text-primary);cursor:pointer;transition:all .2s ease}.google-button[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--surface-hover);border-color:var(--border-strong);box-shadow:var(--shadow-md)}.google-button[_ngcontent-%COMP%]:active:not(:disabled){transform:scale(.98)}.google-button[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}.google-button[_ngcontent-%COMP%]   .google-icon[_ngcontent-%COMP%]{width:20px;height:20px}.google-button[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{margin:0 auto}.auth-footer[_ngcontent-%COMP%]{margin-top:1.5rem;text-align:center}.auth-footer[_ngcontent-%COMP%]   .privacy-note[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-tertiary);margin:0;line-height:1.5}.app-tagline[_ngcontent-%COMP%]{text-align:center;margin-top:1.5rem;color:var(--text-tertiary);font-size:.875rem}"]})};export{k as LoginComponent};
