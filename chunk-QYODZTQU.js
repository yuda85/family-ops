import{a as w}from"./chunk-HCSAL4KD.js";import{a as A,b as z}from"./chunk-2RBDTNNC.js";import{a as k}from"./chunk-4Q6TRDAS.js";import{d as S}from"./chunk-X4QG5DAP.js";import{b as x,d as b,e as M,f as O}from"./chunk-SXGBHULN.js";import"./chunk-EB5YHKWW.js";import{j as P}from"./chunk-JFU3JZIN.js";import{c as y}from"./chunk-TWWUOU6R.js";import{k as C}from"./chunk-OJNKK6II.js";import{Bb as v,Cb as e,Db as t,Eb as g,Pb as m,Rb as D,Sa as o,Y as d,bc as u,dc as n,ec as s,fb as E,fc as _,vb as p,wb as f}from"./chunk-QZLPLYI5.js";import{f as h}from"./chunk-ATWMZ64T.js";function I(l,r){l&1&&(e(0,"p",14),n(1,"\u05E8\u05E7 \u05DE\u05E0\u05D4\u05DC\u05D9\u05DD \u05D9\u05DB\u05D5\u05DC\u05D9\u05DD \u05DC\u05E9\u05E0\u05D5\u05EA \u05D4\u05D2\u05D3\u05E8\u05D4 \u05D6\u05D5"),t())}function F(l,r){if(l&1&&(e(0,"div",19)(1,"div",20),n(2),t(),e(3,"div",21)(4,"h3"),n(5),t(),e(6,"p"),n(7),t()()(),g(8,"mat-divider")),l&2){let a,i=D();o(2),_(" ",(a=i.familyService.familyName())==null?null:a.substring(0,2)," "),o(3),s(i.familyService.familyName()),o(2),s(i.getRoleLabel())}}function B(l,r){l&1&&(e(0,"button",22)(1,"mat-icon"),n(2,"settings"),t(),e(3,"span"),n(4,"\u05D4\u05D2\u05D3\u05E8\u05D5\u05EA \u05DE\u05E9\u05E4\u05D7\u05D4"),t(),e(5,"mat-icon",7),n(6,"chevron_left"),t()(),e(7,"button",23)(8,"mat-icon"),n(9,"person_add"),t(),e(10,"span"),n(11,"\u05D4\u05D6\u05DE\u05DF \u05D7\u05D1\u05E8\u05D9\u05DD"),t(),e(12,"mat-icon",7),n(13,"chevron_left"),t()())}var T=class l{router=d(y);authService=d(P);themeService=d(k);familyService=d(S);roleLabels={owner:"\u05D1\u05E2\u05DC\u05D9\u05DD",admin:"\u05DE\u05E0\u05D4\u05DC",member:"\u05D7\u05D1\u05E8",viewer:"\u05E6\u05D5\u05E4\u05D4"};getInitials(){let r=this.authService.displayName();if(!r)return"?";let a=r.split(" ");return a.length>=2?a[0][0]+a[1][0]:r.substring(0,2)}getRoleLabel(){let r=this.familyService.currentUserRole();return r?this.roleLabels[r]??r:""}switchFamily(){this.router.navigate(["/family-select"])}logout(){return h(this,null,function*(){yield this.authService.logout(),this.router.navigate(["/auth/login"])})}setWeekStart(r){return h(this,null,function*(){if(this.familyService.isAdmin())try{yield this.familyService.updateFamilySettings({weekStartDay:r})}catch(a){console.error("Error updating week start:",a)}})}static \u0275fac=function(a){return new(a||l)};static \u0275cmp=E({type:l,selectors:[["app-profile"]],decls:97,vars:19,consts:[[1,"settings-page"],[1,"settings-section"],[1,"settings-card"],[1,"profile-header"],[1,"profile-avatar"],[1,"profile-info"],["mat-button","",1,"settings-item"],[1,"chevron"],[1,"theme-selector"],[1,"theme-label"],[1,"theme-options"],[1,"theme-btn",3,"click"],[1,"theme-options","week-start-options"],[1,"theme-btn",3,"click","disabled"],[1,"setting-hint"],["mat-button","",1,"settings-item",3,"click"],[1,"about-info"],["src","favicon.png","alt","FamilyOps",1,"app-logo"],["mat-stroked-button","","color","warn",1,"logout-btn",3,"click"],[1,"family-info-row"],[1,"family-badge"],[1,"family-details"],["mat-button","","routerLink","/app/family/settings",1,"settings-item"],["mat-button","","routerLink","/app/family/invite",1,"settings-item"]],template:function(a,i){a&1&&(e(0,"div",0)(1,"h1"),n(2,"\u05D4\u05D2\u05D3\u05E8\u05D5\u05EA"),t(),e(3,"section",1)(4,"h2"),n(5,"\u05E4\u05E8\u05D5\u05E4\u05D9\u05DC"),t(),e(6,"div",2)(7,"div",3)(8,"div",4),n(9),t(),e(10,"div",5)(11,"h3"),n(12),t(),e(13,"p"),n(14),t()()(),g(15,"mat-divider"),e(16,"button",6)(17,"mat-icon"),n(18,"edit"),t(),e(19,"span"),n(20,"\u05E2\u05E8\u05D9\u05DB\u05EA \u05E4\u05E8\u05D5\u05E4\u05D9\u05DC"),t(),e(21,"mat-icon",7),n(22,"chevron_left"),t()(),e(23,"button",6)(24,"mat-icon"),n(25,"lock"),t(),e(26,"span"),n(27,"\u05E9\u05D9\u05E0\u05D5\u05D9 \u05E1\u05D9\u05E1\u05DE\u05D4"),t(),e(28,"mat-icon",7),n(29,"chevron_left"),t()()()(),e(30,"section",1)(31,"h2"),n(32,"\u05DE\u05E8\u05D0\u05D4"),t(),e(33,"div",2)(34,"div",8)(35,"div",9)(36,"mat-icon"),n(37),t(),e(38,"span"),n(39,"\u05E2\u05E8\u05DB\u05EA \u05E0\u05D5\u05E9\u05D0"),t()(),e(40,"div",10)(41,"button",11),m("click",function(){return i.themeService.setTheme("light")}),e(42,"mat-icon"),n(43,"light_mode"),t(),n(44," \u05D1\u05D4\u05D9\u05E8 "),t(),e(45,"button",11),m("click",function(){return i.themeService.setTheme("dark")}),e(46,"mat-icon"),n(47,"dark_mode"),t(),n(48," \u05DB\u05D4\u05D4 "),t(),e(49,"button",11),m("click",function(){return i.themeService.setTheme("system")}),e(50,"mat-icon"),n(51,"contrast"),t(),n(52," \u05DE\u05E2\u05E8\u05DB\u05EA "),t()()(),g(53,"mat-divider"),e(54,"div",8)(55,"div",9)(56,"mat-icon"),n(57,"calendar_today"),t(),e(58,"span"),n(59,"\u05EA\u05D7\u05D9\u05DC\u05EA \u05E9\u05D1\u05D5\u05E2"),t()(),e(60,"div",12)(61,"button",13),m("click",function(){return i.setWeekStart("sunday")}),e(62,"mat-icon"),n(63,"wb_sunny"),t(),n(64," \u05E8\u05D0\u05E9\u05D5\u05DF "),t(),e(65,"button",13),m("click",function(){return i.setWeekStart("monday")}),e(66,"mat-icon"),n(67,"today"),t(),n(68," \u05E9\u05E0\u05D9 "),t()(),p(69,I,2,0,"p",14),t()()(),e(70,"section",1)(71,"h2"),n(72,"\u05DE\u05E9\u05E4\u05D7\u05D4"),t(),e(73,"div",2),p(74,F,9,3),e(75,"button",15),m("click",function(){return i.switchFamily()}),e(76,"mat-icon"),n(77,"swap_horiz"),t(),e(78,"span"),n(79,"\u05D4\u05D7\u05DC\u05E3 \u05DE\u05E9\u05E4\u05D7\u05D4"),t(),e(80,"mat-icon",7),n(81,"chevron_left"),t()(),p(82,B,14,0),t()(),e(83,"section",1)(84,"h2"),n(85,"\u05D0\u05D5\u05D3\u05D5\u05EA"),t(),e(86,"div",2)(87,"div",16),g(88,"img",17),e(89,"h3"),n(90,"FamilyOps"),t(),e(91,"p"),n(92,"\u05D2\u05E8\u05E1\u05D4 1.0.0"),t()()()(),e(93,"button",18),m("click",function(){return i.logout()}),e(94,"mat-icon"),n(95,"logout"),t(),n(96," \u05D4\u05EA\u05E0\u05EA\u05E7\u05D5\u05EA "),t()()),a&2&&(o(9),_(" ",i.getInitials()," "),o(3),s(i.authService.displayName()),o(2),s(i.authService.userEmail()),o(23),s(i.themeService.getThemeIcon()),o(4),u("active",i.themeService.themePreference()==="light"),o(4),u("active",i.themeService.themePreference()==="dark"),o(4),u("active",i.themeService.themePreference()==="system"),o(12),u("active",i.familyService.weekStartDay()==="sunday"),v("disabled",!i.familyService.isAdmin()),o(4),u("active",i.familyService.weekStartDay()==="monday"),v("disabled",!i.familyService.isAdmin()),o(4),f(i.familyService.isAdmin()?-1:69),o(5),f(i.familyService.currentFamily()?74:-1),o(8),f(i.familyService.isAdmin()?82:-1))},dependencies:[C,b,x,O,M,w,z,A],styles:[".settings-page[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.settings-page[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;margin:0;color:var(--text-primary)}.settings-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:.75rem;font-weight:600;text-transform:uppercase;color:var(--text-secondary);margin:0 0 .5rem;letter-spacing:.05em}.settings-card[_ngcontent-%COMP%]{background:var(--surface-primary);border:1px solid var(--border-subtle);border-radius:1rem;overflow:hidden}.profile-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1.25rem}.profile-header[_ngcontent-%COMP%]   .profile-avatar[_ngcontent-%COMP%]{width:56px;height:56px;border-radius:50%;background:var(--color-primary);color:var(--text-on-primary);display:flex;align-items:center;justify-content:center;font-size:var(--font-size-xl);font-weight:var(--font-weight-semibold)}.profile-header[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:var(--font-size-lg);font-weight:var(--font-weight-semibold)}.profile-header[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.25rem 0 0;font-size:.875rem;color:var(--text-secondary)}.settings-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;width:100%;padding:1rem 1.25rem;text-align:right;justify-content:flex-start;border-radius:0;font-weight:400}.settings-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1}.settings-item[_ngcontent-%COMP%]   .chevron[_ngcontent-%COMP%]{color:var(--text-tertiary)}.theme-selector[_ngcontent-%COMP%]{padding:1.25rem}.theme-selector[_ngcontent-%COMP%]   .theme-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:1rem;color:var(--text-primary)}.theme-selector[_ngcontent-%COMP%]   .theme-options[_ngcontent-%COMP%]{display:flex;gap:.5rem}.theme-selector[_ngcontent-%COMP%]   .theme-options[_ngcontent-%COMP%]   .theme-btn[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;align-items:center;gap:.5rem;padding:1rem .5rem;background:var(--surface-secondary);border:2px solid transparent;border-radius:.75rem;cursor:pointer;transition:all .15s ease;color:var(--text-secondary);font-size:.75rem}.theme-selector[_ngcontent-%COMP%]   .theme-options[_ngcontent-%COMP%]   .theme-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px}.theme-selector[_ngcontent-%COMP%]   .theme-options[_ngcontent-%COMP%]   .theme-btn[_ngcontent-%COMP%]:hover{background:var(--surface-hover)}.theme-selector[_ngcontent-%COMP%]   .theme-options[_ngcontent-%COMP%]   .theme-btn.active[_ngcontent-%COMP%]{border-color:var(--color-primary);background:var(--color-primary-alpha);color:var(--color-primary)}.theme-selector[_ngcontent-%COMP%]   .theme-options[_ngcontent-%COMP%]   .theme-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.theme-selector[_ngcontent-%COMP%]   .week-start-options[_ngcontent-%COMP%]{max-width:300px}.theme-selector[_ngcontent-%COMP%]   .setting-hint[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-tertiary);margin:.5rem 0 0}.family-info-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1.25rem}.family-info-row[_ngcontent-%COMP%]   .family-badge[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:var(--radius-lg);background:var(--color-secondary);color:var(--text-on-colored);display:flex;align-items:center;justify-content:center;font-weight:var(--font-weight-semibold)}.family-info-row[_ngcontent-%COMP%]   .family-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:var(--font-size-base);font-weight:var(--font-weight-semibold)}.family-info-row[_ngcontent-%COMP%]   .family-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.25rem 0 0;font-size:.75rem;color:var(--text-secondary)}.about-info[_ngcontent-%COMP%]{padding:2rem;text-align:center}.about-info[_ngcontent-%COMP%]   .app-logo[_ngcontent-%COMP%]{width:60px;height:60px;object-fit:contain;display:block;margin:0 auto .75rem}.about-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;font-weight:700}.about-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.25rem 0 0;font-size:.75rem;color:var(--text-tertiary)}.logout-btn[_ngcontent-%COMP%]{display:flex;margin:0 auto;padding:.75rem 2rem}.logout-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-inline-end:.5rem}mat-divider[_ngcontent-%COMP%]{margin:0}"]})};export{T as ProfileComponent};
