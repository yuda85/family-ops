import{g as ie}from"./chunk-6EYLVA3C.js";import{a as oe}from"./chunk-ZP7QJX4J.js";import{a as U,c as W,d as X}from"./chunk-4S4SHBAA.js";import{a as K,h as Q}from"./chunk-PBF26NQQ.js";import{a as Z,b as ee,c as te,d as ne}from"./chunk-QHTHQ7YG.js";import"./chunk-ISTWEN7X.js";import{b as G,d as P,f as L,g as j,j as Y,l as R,m as q,p as H,r as J}from"./chunk-HVH6PFSI.js";import"./chunk-GY27VXU3.js";import{c as h,d as V}from"./chunk-WPQFOBGJ.js";import{a as I,b as N,d as z,e as B,f as $}from"./chunk-OHJUE5IH.js";import"./chunk-ZOWI4QAM.js";import"./chunk-IGP4P7SY.js";import{j as T}from"./chunk-3EH3MU74.js";import{$b as F,Ab as E,Bb as f,Cb as t,Db as n,Eb as w,Lb as C,Pb as u,Rb as d,Sa as l,Y as M,ac as v,ba as m,bc as k,ca as s,dc as r,ec as y,fb as O,fc as A,oa as _,vb as D,wb as g,yb as S,zb as b}from"./chunk-HNLZOKXJ.js";import{f as x}from"./chunk-ATWMZ64T.js";var ae=(i,o)=>o.id;function le(i,o){if(i&1){let e=C();t(0,"button",16),u("click",function(){let c=m(e).$implicit,p=d(2);return s(p.selectedColor.set(c))}),n()}if(i&2){let e=o.$implicit,a=d(2);v("background",e),k("selected",a.selectedColor()===e)}}function ce(i,o){if(i&1){let e=C();t(0,"div",4)(1,"h3"),r(2,"\u05D4\u05D5\u05E1\u05E4\u05EA \u05D9\u05DC\u05D3 \u05D7\u05D3\u05E9"),n(),t(3,"form",7),u("ngSubmit",function(){m(e);let c=d();return s(c.addChild())}),t(4,"mat-form-field",8)(5,"mat-label"),r(6,"\u05E9\u05DD \u05D4\u05D9\u05DC\u05D3"),n(),w(7,"input",9),n(),t(8,"div",10)(9,"label"),r(10,"\u05D1\u05D7\u05E8 \u05E6\u05D1\u05E2"),n(),t(11,"div",11),b(12,le,1,4,"button",12,S),n()(),t(14,"div",13)(15,"button",14),u("click",function(){m(e);let c=d();return s(c.cancelAdd())}),r(16,"\u05D1\u05D9\u05D8\u05D5\u05DC"),n(),t(17,"button",15),r(18," \u05D4\u05D5\u05E1\u05E3 "),n()()()()}if(i&2){let e=d();l(3),f("formGroup",e.childForm),l(9),E(e.colors),l(5),f("disabled",e.childForm.invalid||e.isSubmitting())}}function de(i,o){if(i&1&&(t(0,"span",20),r(1),n()),i&2){let e=d().$implicit,a=d(2);l(),y(a.getAge(e.birthYear))}}function ue(i,o){if(i&1){let e=C();t(0,"div",17)(1,"div",18),r(2),n(),t(3,"div",19)(4,"h3"),r(5),n(),D(6,de,2,1,"span",20),n(),t(7,"button",21)(8,"mat-icon"),r(9,"more_vert"),n()(),t(10,"mat-menu",null,0)(12,"button",22),u("click",function(){let c=m(e).$implicit,p=d(2);return s(p.editChild(c))}),t(13,"mat-icon"),r(14,"edit"),n(),t(15,"span"),r(16,"\u05E2\u05E8\u05D5\u05DA"),n()(),t(17,"button",22),u("click",function(){let c=m(e).$implicit,p=d(2);return s(p.deleteChild(c))}),t(18,"mat-icon"),r(19,"delete"),n(),t(20,"span"),r(21,"\u05DE\u05D7\u05E7"),n()()()()}if(i&2){let e=o.$implicit,a=F(11);l(),v("background",e.color),l(),A(" ",e.name.charAt(0)," "),l(3),y(e.name),l(),g(e.birthYear?6:-1),l(),f("matMenuTriggerFor",a)}}function me(i,o){if(i&1&&(t(0,"div",5),b(1,ue,22,6,"div",17,ae),n()),i&2){let e=d();l(),E(e.familyService.sortedChildren())}}function se(i,o){if(i&1){let e=C();t(0,"app-empty-state",23),u("action",function(){m(e);let c=d();return s(c.showAddForm.set(!0))}),n()}}var re=class i{fb=M(H);familyService=M(V);showAddForm=_(!1);isSubmitting=_(!1);selectedColor=_(h[0]);colors=h;childForm=this.fb.group({name:["",[P.required,P.minLength(2)]]});getAge(o){return`\u05D1\u05DF ${new Date().getFullYear()-o}`}addChild(){return x(this,null,function*(){if(!this.childForm.invalid){this.isSubmitting.set(!0);try{yield this.familyService.addChild({name:this.childForm.value.name,color:this.selectedColor()}),this.cancelAdd()}catch(o){console.error("Error adding child:",o)}finally{this.isSubmitting.set(!1)}}})}cancelAdd(){this.showAddForm.set(!1),this.childForm.reset(),this.selectedColor.set(h[0])}editChild(o){console.log("Edit child:",o)}deleteChild(o){return x(this,null,function*(){try{yield this.familyService.deleteChild(o.id)}catch(e){console.error("Error deleting child:",e)}})}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=O({type:i,selectors:[["app-children"]],decls:11,vars:2,consts:[["menu","matMenu"],[1,"children-page"],[1,"page-header"],["mat-flat-button","","color","primary",3,"click"],[1,"add-child-form","card"],[1,"children-grid"],["icon","child_care","title","\u05D0\u05D9\u05DF \u05D9\u05DC\u05D3\u05D9\u05DD","description","\u05D4\u05D5\u05E1\u05D9\u05E4\u05D5 \u05D0\u05EA \u05D4\u05D9\u05DC\u05D3\u05D9\u05DD \u05E9\u05DC\u05DB\u05DD \u05DB\u05D3\u05D9 \u05DC\u05E0\u05D4\u05DC \u05D0\u05D9\u05E8\u05D5\u05E2\u05D9\u05DD \u05D5\u05D4\u05E1\u05E2\u05D5\u05EA","actionLabel","\u05D4\u05D5\u05E1\u05E3 \u05D9\u05DC\u05D3","actionIcon","add"],[3,"ngSubmit","formGroup"],["appearance","outline"],["matInput","","formControlName","name"],[1,"color-picker"],[1,"colors"],["type","button",1,"color-btn",3,"background","selected"],[1,"form-actions"],["mat-button","","type","button",3,"click"],["mat-flat-button","","color","primary","type","submit",3,"disabled"],["type","button",1,"color-btn",3,"click"],[1,"child-card","card"],[1,"child-avatar"],[1,"child-info"],[1,"child-age"],["mat-icon-button","",1,"child-menu",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"],["icon","child_care","title","\u05D0\u05D9\u05DF \u05D9\u05DC\u05D3\u05D9\u05DD","description","\u05D4\u05D5\u05E1\u05D9\u05E4\u05D5 \u05D0\u05EA \u05D4\u05D9\u05DC\u05D3\u05D9\u05DD \u05E9\u05DC\u05DB\u05DD \u05DB\u05D3\u05D9 \u05DC\u05E0\u05D4\u05DC \u05D0\u05D9\u05E8\u05D5\u05E2\u05D9\u05DD \u05D5\u05D4\u05E1\u05E2\u05D5\u05EA","actionLabel","\u05D4\u05D5\u05E1\u05E3 \u05D9\u05DC\u05D3","actionIcon","add",3,"action"]],template:function(e,a){e&1&&(t(0,"div",1)(1,"header",2)(2,"h1"),r(3,"\u05D4\u05D9\u05DC\u05D3\u05D9\u05DD"),n(),t(4,"button",3),u("click",function(){return a.showAddForm.set(!0)}),t(5,"mat-icon"),r(6,"add"),n(),r(7," \u05D4\u05D5\u05E1\u05E3 \u05D9\u05DC\u05D3 "),n()(),D(8,ce,19,2,"div",4),D(9,me,3,0,"div",5)(10,se,1,0,"app-empty-state",6),n()),e&2&&(l(8),g(a.showAddForm()?8:-1),l(),g(a.familyService.children().length>0?9:a.showAddForm()?-1:10))},dependencies:[T,J,Y,G,L,j,q,R,z,N,I,$,B,U,Q,K,X,W,ie,ne,ee,Z,te,oe],styles:[".children-page[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;margin:0;color:var(--text-primary)}.card[_ngcontent-%COMP%]{background:var(--surface-primary);border:1px solid var(--border-subtle);border-radius:1rem;padding:1.5rem}.add-child-form[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 1rem;font-size:1.125rem;font-weight:600}.add-child-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.add-child-form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.add-child-form[_ngcontent-%COMP%]   .color-picker[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-size:.875rem;color:var(--text-secondary)}.add-child-form[_ngcontent-%COMP%]   .color-picker[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-wrap:wrap}.add-child-form[_ngcontent-%COMP%]   .color-picker[_ngcontent-%COMP%]   .color-btn[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;border:3px solid transparent;cursor:pointer;transition:all .15s ease}.add-child-form[_ngcontent-%COMP%]   .color-picker[_ngcontent-%COMP%]   .color-btn[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.add-child-form[_ngcontent-%COMP%]   .color-picker[_ngcontent-%COMP%]   .color-btn.selected[_ngcontent-%COMP%]{border-color:var(--text-primary);box-shadow:0 0 0 2px var(--surface-primary)}.add-child-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:.75rem;margin-top:.5rem}.children-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:1rem}.child-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1rem 1.25rem}.child-card[_ngcontent-%COMP%]   .child-avatar[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:var(--radius-lg);display:flex;align-items:center;justify-content:center;font-size:var(--font-size-xl);font-weight:var(--font-weight-semibold);color:var(--text-on-colored)}.child-card[_ngcontent-%COMP%]   .child-info[_ngcontent-%COMP%]{flex:1}.child-card[_ngcontent-%COMP%]   .child-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:var(--font-size-base);font-weight:var(--font-weight-semibold)}.child-card[_ngcontent-%COMP%]   .child-info[_ngcontent-%COMP%]   .child-age[_ngcontent-%COMP%]{font-size:var(--font-size-xs);color:var(--text-secondary)}.child-card[_ngcontent-%COMP%]   .child-menu[_ngcontent-%COMP%]{color:var(--text-tertiary)}"]})};export{re as ChildrenComponent};
