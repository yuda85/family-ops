import{d as B,f as L,g as me}from"./chunk-ZWAVN3JZ.js";import{a as ce}from"./chunk-FGIU4WVQ.js";import{d as le}from"./chunk-VKZEWMLF.js";import"./chunk-5XPVWHDB.js";import"./chunk-PKY75QXD.js";import"./chunk-KOZG2KWN.js";import"./chunk-QNNGT5BD.js";import"./chunk-GY27VXU3.js";import{b as re,d as T}from"./chunk-WPQFOBGJ.js";import{d as oe,e as se,f as de}from"./chunk-OHJUE5IH.js";import{U as Q,V as W,j as K}from"./chunk-ZOWI4QAM.js";import{d as Y,i as Z}from"./chunk-HH43CGJO.js";import{b as J,c as ee,d as te,f as ne,h as ie,j as ae}from"./chunk-IGP4P7SY.js";import{i as G,j as q}from"./chunk-3EH3MU74.js";import{Ab as P,Bb as V,Cb as a,Db as i,Eb as S,Rb as _,Sa as s,T as U,U as X,Y as x,ac as D,bc as v,da as $,dc as r,ea as j,ec as h,fb as z,fc as f,gb as H,gc as R,nc as F,oa as w,oc as N,pc as A,tc as C,vb as g,wb as u,zb as k}from"./chunk-HNLZOKXJ.js";import{f as E}from"./chunk-ATWMZ64T.js";var ge=(()=>{class n{static \u0275fac=function(o){return new(o||n)};static \u0275mod=H({type:n});static \u0275inj=X({imports:[K]})}return n})();var I=class n{db=ie();authService=x(ae);familyService=x(T);calendarService=x(ce);shoppingService=x(le);topicsService=x(me);_isLoading=w(!1);_error=w(null);_lastRefresh=w(null);_myTasks=w([]);isLoading=this._isLoading.asReadonly();error=this._error.asReadonly();lastRefresh=this._lastRefresh.asReadonly();dateRange=C(()=>{let t=new Date;t.setHours(0,0,0,0);let e=new Date(t);return e.setDate(e.getDate()+7),e.setHours(23,59,59,999),{start:t,end:e}});userName=C(()=>{let t=this.authService.user();return t?(t.displayName||t.email||"").split(" ")[0]:""});greeting=C(()=>{let t=new Date().getHours();return t<12?"\u05D1\u05D5\u05E7\u05E8 \u05D8\u05D5\u05D1":t<17?"\u05E6\u05D4\u05E8\u05D9\u05D9\u05DD \u05D8\u05D5\u05D1\u05D9\u05DD":t<21?"\u05E2\u05E8\u05D1 \u05D8\u05D5\u05D1":"\u05DC\u05D9\u05DC\u05D4 \u05D8\u05D5\u05D1"});upcomingEventsByDay=C(()=>{let t=this.calendarService.expandedEvents(),e=this.dateRange(),o=new Date;o.setHours(0,0,0,0);let d=t.filter(c=>c.instanceStart>=e.start&&c.instanceStart<=e.end),m=new Map;for(let c of d){let b=c.instanceDate.toDateString(),y=m.get(b)||[];y.push(c),m.set(b,y)}let l=[];for(let[c,b]of m){let y=new Date(c),O=y.toDateString()===o.toDateString(),M=new Date(o);M.setDate(M.getDate()+1);let p=y.toDateString()===M.toDateString();l.push({date:y,dateLabel:this.formatDateLabel(y,O,p),isToday:O,isTomorrow:p,events:b.sort((he,fe)=>he.instanceStart.getTime()-fe.instanceStart.getTime())})}return l.sort((c,b)=>c.date.getTime()-b.date.getTime())});childrenOverview=C(()=>{let t=this.familyService.sortedChildren(),e=this.calendarService.expandedEvents(),o=this.dateRange();return t.map(d=>{let m=e.filter(c=>c.event.childrenIds?.includes(d.id)&&c.instanceStart>=o.start&&c.instanceStart<=o.end),l=m.filter(c=>c.event.needsRide);return{child:d,upcomingEvents:m,eventsNeedingRide:l,hasRideNeeded:l.length>0}})});shoppingStatus=C(()=>{let t=this.shoppingService.activeList();return{hasActiveList:!!t,listName:t?.name||null,progress:this.shoppingService.progress(),totalItems:this.shoppingService.totalCount(),checkedItems:this.shoppingService.checkedCount(),isComplete:this.shoppingService.isListComplete(),activeShoppers:t?.activeShoppers||[],status:t?.status||null}});importantTopics=C(()=>{let t=this.topicsService.topics(),e=new Date;return t.filter(o=>o.status==="active"||o.status==="planning"||o.priority==="urgent"||o.priority==="high").map(o=>{let d=o.deadline?.toDate(),m=d?Math.ceil((d.getTime()-e.getTime())/(1e3*60*60*24)):null,l=o.taskCount>0?o.completedTaskCount/o.taskCount*100:0;return{topic:o,isUrgent:o.priority==="urgent"||m!==null&&m<=3,daysUntilDeadline:m,progress:l}}).sort((o,d)=>o.isUrgent&&!d.isUrgent?-1:!o.isUrgent&&d.isUrgent?1:o.daysUntilDeadline!==null&&d.daysUntilDeadline!==null?o.daysUntilDeadline-d.daysUntilDeadline:0).slice(0,5)});myTasks=C(()=>{let t=this._myTasks(),e=this.topicsService.topics(),o=new Date;return t.filter(d=>d.status!=="completed"&&d.status!=="cancelled").map(d=>{let m=e.find(b=>b.id===d.topicId),l=d.dueDate?.toDate(),c=l?Math.ceil((l.getTime()-o.getTime())/(1e3*60*60*24)):null;return{task:d,topic:m,isOverdue:c!==null&&c<0,daysUntilDue:c}}).filter(d=>d.topic).sort((d,m)=>d.isOverdue&&!m.isOverdue?-1:!d.isOverdue&&m.isOverdue?1:d.daysUntilDue!==null&&m.daysUntilDue!==null?d.daysUntilDue-m.daysUntilDue:d.daysUntilDue!==null?-1:m.daysUntilDue!==null?1:0).slice(0,4)});stats=C(()=>{let t=this.upcomingEventsByDay(),e=this.childrenOverview(),o=this.topicsService.topics(),d=t.reduce((l,c)=>l+c.events.length,0),m=e.reduce((l,c)=>l+c.eventsNeedingRide.length,0);return{eventsNext7Days:d,ridesNeeded:m,pendingTasks:0,activeTopics:o.filter(l=>l.status==="active").length,shoppingProgress:this.shoppingService.progress()}});loadDashboard(){return E(this,null,function*(){let t=this.dateRange();this._isLoading.set(!0),this._error.set(null);try{this.topicsService.subscribeToTopics(),yield Promise.all([this.calendarService.loadEvents(t.start,t.end),this.shoppingService.loadActiveList()]),yield this.waitForTopicsAndLoadTasks(),this._lastRefresh.set(new Date)}catch(e){console.error("Error loading dashboard:",e),this._error.set("\u05E9\u05D2\u05D9\u05D0\u05D4 \u05D1\u05D8\u05E2\u05D9\u05E0\u05EA \u05D4\u05D3\u05E9\u05D1\u05D5\u05E8\u05D3")}finally{this._isLoading.set(!1)}})}waitForTopicsAndLoadTasks(){return E(this,null,function*(){let o=0;for(;this.topicsService.topics().length===0&&o<5e3;)yield new Promise(d=>setTimeout(d,100)),o+=100;console.log("[Dashboard] Topics loaded after",o,"ms, count:",this.topicsService.topics().length),yield this.loadMyTasks()})}loadMyTasks(){return E(this,null,function*(){let t=this.familyService.familyId(),e=this.authService.userId();if(console.log("[Dashboard] loadMyTasks called"),console.log("[Dashboard] familyId:",t),console.log("[Dashboard] userId:",e),!t||!e){console.log("[Dashboard] Missing familyId or userId, returning empty"),this._myTasks.set([]);return}try{let o=this.topicsService.topics();console.log("[Dashboard] Topics count:",o.length),console.log("[Dashboard] Topics:",o.map(l=>({id:l.id,title:l.title})));let d=[],m=o.map(l=>E(this,null,function*(){try{let c=`families/${t}/topics/${l.id}/tasks`;console.log("[Dashboard] Querying tasks at:",c);let b=J(this.db,c),y=ee(b,te("assignedTo","array-contains",e)),O=yield ne(y);console.log(`[Dashboard] Topic ${l.id} - Found ${O.docs.length} tasks assigned to user`);for(let M of O.docs){let p=M.data();console.log("[Dashboard] Task found:",{id:M.id,title:p.title,assignedTo:p.assignedTo,status:p.status}),d.push({id:M.id,topicId:l.id,title:p.title,description:p.description,assignedTo:p.assignedTo||[],dueDate:p.dueDate,status:p.status,priority:p.priority||"medium",subtasks:p.subtasks||[],order:p.order||0,createdBy:p.createdBy,createdAt:p.createdAt,updatedAt:p.updatedAt,completedAt:p.completedAt,completedBy:p.completedBy})}}catch(c){console.warn(`[Dashboard] Failed to load tasks for topic ${l.id}:`,c)}}));yield Promise.all(m),console.log("[Dashboard] Total tasks loaded:",d.length),console.log("[Dashboard] All tasks:",d),this._myTasks.set(d)}catch(o){console.error("[Dashboard] Error loading my tasks:",o),this._myTasks.set([])}})}refresh(){return E(this,null,function*(){yield this.loadDashboard()})}formatDateLabel(t,e,o){if(e)return"\u05D4\u05D9\u05D5\u05DD";if(o)return"\u05DE\u05D7\u05E8";let m=["\u05D9\u05D5\u05DD \u05D0'","\u05D9\u05D5\u05DD \u05D1'","\u05D9\u05D5\u05DD \u05D2'","\u05D9\u05D5\u05DD \u05D3'","\u05D9\u05D5\u05DD \u05D4'","\u05D9\u05D5\u05DD \u05D5'","\u05E9\u05D1\u05EA"][t.getDay()],l=t.toLocaleDateString("he-IL",{day:"numeric",month:"numeric"});return`${m} ${l}`}clearError(){this._error.set(null)}ngOnDestroy(){}static \u0275fac=function(e){return new(e||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})};var _e=n=>["/app/topics",n],ve=(n,t)=>t.child.id,be=(n,t)=>t.dateLabel,Ce=(n,t)=>t.event.id+t.instanceDate.toISOString(),ye=(n,t)=>t.id,xe=(n,t)=>t.task.id,De=(n,t)=>t.topic.id;function Me(n,t){if(n&1&&(a(0,"div",10)(1,"mat-icon"),r(2,"event"),i(),a(3,"span",11),r(4),i(),a(5,"span",12),r(6,"\u05D0\u05D9\u05E8\u05D5\u05E2\u05D9\u05DD"),i()(),a(7,"div",13)(8,"mat-icon"),r(9,"directions_car"),i(),a(10,"span",11),r(11),i(),a(12,"span",12),r(13,"\u05D4\u05E1\u05E2\u05D5\u05EA"),i()(),a(14,"div",10)(15,"mat-icon"),r(16,"topic"),i(),a(17,"span",11),r(18),i(),a(19,"span",12),r(20,"\u05E0\u05D5\u05E9\u05D0\u05D9\u05DD"),i()()),n&2){let e=t;v("has-value",e.eventsNext7Days>0),s(4),h(e.eventsNext7Days),s(3),v("has-value",e.ridesNeeded>0),s(4),h(e.ridesNeeded),s(3),v("has-value",e.activeTopics>0),s(4),h(e.activeTopics)}}function ke(n,t){if(n&1&&(a(0,"span",22)(1,"mat-icon"),r(2,"directions_car"),i(),r(3),i()),n&2){let e=_().$implicit;s(3),f(" ",e.eventsNeedingRide.length," ")}}function Pe(n,t){if(n&1&&(a(0,"div",17)(1,"span",18),r(2),i(),a(3,"span",19),r(4),i(),a(5,"div",20)(6,"span",21)(7,"mat-icon"),r(8,"event"),i(),r(9),i(),g(10,ke,4,1,"span",22),i()()),n&2){let e=t.$implicit,o=_(2);D("--child-color",e.child.color),s(2),h(o.getInitial(e.child.name)),s(2),h(e.child.name),s(5),f(" ",e.upcomingEvents.length," "),s(),u(e.hasRideNeeded?10:-1)}}function Ee(n,t){if(n&1&&(a(0,"section",7)(1,"div",14)(2,"mat-icon"),r(3,"child_care"),i(),a(4,"span"),r(5,"\u05D4\u05D9\u05DC\u05D3\u05D9\u05DD"),i()(),a(6,"div",15),k(7,Pe,11,6,"div",16,ve),i()()),n&2){let e=_();s(7),P(e.dashboardService.childrenOverview())}}function Oe(n,t){n&1&&(a(0,"div",8)(1,"div",23),S(2,"div",24)(3,"div",25)(4,"div",25)(5,"div",26),i()())}function we(n,t){n&1&&(a(0,"div",32)(1,"mat-icon"),r(2,"event_available"),i(),a(3,"p"),r(4,"\u05D0\u05D9\u05DF \u05D0\u05D9\u05E8\u05D5\u05E2\u05D9\u05DD \u05E7\u05E8\u05D5\u05D1\u05D9\u05DD"),i(),a(5,"span",42),r(6,"\u05D4\u05E9\u05D1\u05D5\u05E2 \u05D4\u05E7\u05E8\u05D5\u05D1 \u05E4\u05E0\u05D5\u05D9"),i()())}function Se(n,t){n&1&&(a(0,"span",55)(1,"mat-icon"),r(2,"directions_car"),i()())}function Te(n,t){if(n&1&&(a(0,"span",58),r(1),i()),n&2){let e=t.$implicit,o=_(5);D("background",e.color),s(),f(" ",o.getInitial(e.name)," ")}}function Ie(n,t){if(n&1&&(a(0,"div",51)(1,"div",52),r(2),i(),a(3,"div",53)(4,"span",54),r(5),i(),g(6,Se,3,0,"span",55),i(),a(7,"div",56),k(8,Te,2,3,"span",57,ye),i()()),n&2){let e=t.$implicit,o=_(4);D("--category-color",o.getCategoryColor(e)),s(2),f(" ",o.formatEventTime(e)," "),s(3),h(e.event.title),s(),u(e.event.needsRide?6:-1),s(2),P(o.getEventChildren(e))}}function ze(n,t){if(n&1&&(a(0,"div",50),r(1),i()),n&2){let e=_().$implicit;s(),f(" +",e.events.length-3," \u05E2\u05D5\u05D3 ")}}function Ve(n,t){if(n&1&&(a(0,"div",44)(1,"div",45)(2,"span",46),r(3),i(),a(4,"span",47),r(5),i()(),a(6,"div",48),k(7,Ie,10,5,"div",49,Ce),g(9,ze,2,1,"div",50),i()()),n&2){let e=t.$implicit;v("is-today",e.isToday),s(3),h(e.dateLabel),s(2),f("",e.events.length," \u05D0\u05D9\u05E8\u05D5\u05E2\u05D9\u05DD"),s(2),P(e.events.slice(0,3)),s(2),u(e.events.length>3?9:-1)}}function Re(n,t){if(n&1&&k(0,Ve,10,5,"div",43,be),n&2){let e=_(2);P(e.dashboardService.upcomingEventsByDay().slice(0,4))}}function Fe(n,t){n&1&&(a(0,"div",36)(1,"mat-icon"),r(2,"task_alt"),i(),a(3,"p"),r(4,"\u05D0\u05D9\u05DF \u05DE\u05E9\u05D9\u05DE\u05D5\u05EA \u05E4\u05E2\u05D9\u05DC\u05D5\u05EA"),i(),a(5,"span",42),r(6,"\u05DB\u05DC \u05D4\u05DE\u05E9\u05D9\u05DE\u05D5\u05EA \u05E9\u05DC\u05DA \u05D4\u05D5\u05E9\u05DC\u05DE\u05D5!"),i()())}function Ne(n,t){n&1&&r(0," \u05D1\u05D0\u05D9\u05D7\u05D5\u05E8 ")}function Ae(n,t){n&1&&r(0," \u05D4\u05D9\u05D5\u05DD ")}function Be(n,t){n&1&&r(0," \u05DE\u05D7\u05E8 ")}function Le(n,t){if(n&1&&r(0),n&2){let e=_(2).$implicit;f(" \u05E2\u05D5\u05D3 ",e.daysUntilDue," \u05D9\u05DE\u05D9\u05DD ")}}function Ue(n,t){if(n&1&&(a(0,"span",68)(1,"mat-icon"),r(2,"schedule"),i(),g(3,Ne,1,0)(4,Ae,1,0)(5,Be,1,0)(6,Le,1,1),i()),n&2){let e=_().$implicit;v("overdue",e.isOverdue),s(3),u(e.isOverdue?3:e.daysUntilDue===0?4:e.daysUntilDue===1?5:6)}}function Xe(n,t){if(n&1&&(a(0,"a",60)(1,"div",61)(2,"mat-icon"),r(3),i()(),a(4,"div",62)(5,"span",63),r(6),i(),a(7,"div",64)(8,"span",65)(9,"mat-icon"),r(10,"topic"),i(),r(11),i(),g(12,Ue,7,3,"span",66),i()(),a(13,"div",67)(14,"mat-icon"),r(15),i()()()),n&2){let e=t.$implicit,o=_(3);v("overdue",e.isOverdue)("due-soon",!e.isOverdue&&e.daysUntilDue!==null&&e.daysUntilDue<=2),V("routerLink",F(14,_e,e.topic.id)),s(),v("in-progress",e.task.status==="in_progress"),s(2),h(e.task.status==="in_progress"?"pending":"radio_button_unchecked"),s(3),h(e.task.title),s(5),f(" ",e.topic.title," "),s(),u(e.daysUntilDue!==null?12:-1),s(),D("background",o.getTaskPriorityColor(e.task.priority)),s(2),h(o.getTaskPriorityIcon(e.task.priority))}}function $e(n,t){if(n&1&&k(0,Xe,16,16,"a",59,xe),n&2){let e=_(2);P(e.dashboardService.myTasks())}}function je(n,t){n&1&&(a(0,"div",36)(1,"mat-icon"),r(2,"shopping_basket"),i(),a(3,"p"),r(4,"\u05D0\u05D9\u05DF \u05E8\u05E9\u05D9\u05DE\u05D4 \u05E4\u05E2\u05D9\u05DC\u05D4"),i()())}function He(n,t){n&1&&(a(0,"div",76)(1,"mat-icon"),r(2,"store"),i(),a(3,"span"),r(4,"\u05E7\u05E0\u05D9\u05D5\u05EA \u05D1\u05EA\u05D4\u05DC\u05D9\u05DA"),i()())}function Ge(n,t){if(n&1&&(a(0,"div",69)(1,"div",70)(2,"span",71),r(3),i(),a(4,"span",72),r(5),i()(),a(6,"div",73),S(7,"div",74),i(),a(8,"div",75),r(9),N(10,"number"),i()(),g(11,He,5,0,"div",76)),n&2){let e=_();s(3),h(e.listName),s(2),R(" ",e.checkedItems,"/",e.totalItems," \u05E4\u05E8\u05D9\u05D8\u05D9\u05DD "),s(2),D("width",e.progress,"%"),v("complete",e.isComplete),s(2),f("",A(10,9,e.progress,"1.0-0"),"%"),s(2),u(e.status==="shopping"?11:-1)}}function qe(n,t){n&1&&g(0,je,5,0,"div",36)(1,Ge,12,12),n&2&&u(t.hasActiveList?1:0)}function Ye(n,t){n&1&&(a(0,"div",32)(1,"mat-icon"),r(2,"check_circle"),i(),a(3,"p"),r(4,"\u05D0\u05D9\u05DF \u05E0\u05D5\u05E9\u05D0\u05D9\u05DD \u05D3\u05D7\u05D5\u05E4\u05D9\u05DD"),i(),a(5,"span",42),r(6,"\u05D4\u05DB\u05DC \u05DE\u05E1\u05D5\u05D3\u05E8!"),i()())}function Ze(n,t){n&1&&r(0," \u05D4\u05D9\u05D5\u05DD ")}function Ke(n,t){n&1&&r(0," \u05DE\u05D7\u05E8 ")}function Qe(n,t){n&1&&r(0," \u05D1\u05D0\u05D9\u05D7\u05D5\u05E8 ")}function We(n,t){if(n&1&&r(0),n&2){let e=_(2).$implicit;f(" \u05E2\u05D5\u05D3 ",e.daysUntilDeadline," \u05D9\u05DE\u05D9\u05DD ")}}function Je(n,t){if(n&1&&(a(0,"span",90),g(1,Ze,1,0)(2,Ke,1,0)(3,Qe,1,0)(4,We,1,1),i()),n&2){let e=_().$implicit;v("soon",e.daysUntilDeadline<=3),s(),u(e.daysUntilDeadline===0?1:e.daysUntilDeadline===1?2:e.daysUntilDeadline<0?3:4)}}function et(n,t){if(n&1&&(a(0,"a",78)(1,"div",79)(2,"mat-icon"),r(3),i()(),a(4,"div",80)(5,"span",81),r(6),i(),a(7,"div",82),g(8,Je,5,3,"span",83),a(9,"span",84),r(10),i()()(),a(11,"div",85),$(),a(12,"svg",86),S(13,"path",87)(14,"path",88),i(),j(),a(15,"span",89),r(16),N(17,"number"),i()()()),n&2){let e=t.$implicit,o=_(3);v("urgent",e.isUrgent),V("routerLink",F(16,_e,e.topic.id)),s(),D("background",o.getTopicCategoryColor(e.topic.category)),s(2),h(o.getTopicCategoryIcon(e.topic.category)),s(3),h(e.topic.title),s(2),u(e.daysUntilDeadline!==null?8:-1),s(2),R(" ",e.topic.completedTaskCount,"/",e.topic.taskCount," \u05DE\u05E9\u05D9\u05DE\u05D5\u05EA "),s(4),D("stroke-dasharray",e.progress+", 100"),s(2),f("",A(17,13,e.progress,"1.0-0"),"%")}}function tt(n,t){if(n&1&&k(0,et,18,18,"a",77,De),n&2){let e=_(2);P(e.dashboardService.importantTopics())}}function nt(n,t){if(n&1&&(a(0,"div",9)(1,"section",27)(2,"div",28)(3,"div",29)(4,"mat-icon"),r(5,"calendar_month"),i(),a(6,"h2"),r(7,"\u05D0\u05D9\u05E8\u05D5\u05E2\u05D9\u05DD \u05E7\u05E8\u05D5\u05D1\u05D9\u05DD"),i()(),a(8,"a",30)(9,"span"),r(10,"\u05DC\u05DB\u05DC \u05D4\u05D9\u05D5\u05DE\u05DF"),i(),a(11,"mat-icon"),r(12,"chevron_left"),i()()(),a(13,"div",31),g(14,we,7,0,"div",32)(15,Re,2,0),i()(),a(16,"section",33)(17,"div",28)(18,"div",29)(19,"mat-icon"),r(20,"assignment"),i(),a(21,"h2"),r(22,"\u05D4\u05DE\u05E9\u05D9\u05DE\u05D5\u05EA \u05E9\u05DC\u05D9"),i()(),a(23,"a",34)(24,"span"),r(25,"\u05DC\u05DB\u05DC \u05D4\u05DE\u05E9\u05D9\u05DE\u05D5\u05EA"),i(),a(26,"mat-icon"),r(27,"chevron_left"),i()()(),a(28,"div",35),g(29,Fe,7,0,"div",36)(30,$e,2,0),i()(),a(31,"section",37)(32,"div",28)(33,"div",29)(34,"mat-icon"),r(35,"shopping_cart"),i(),a(36,"h2"),r(37,"\u05E7\u05E0\u05D9\u05D5\u05EA"),i()(),a(38,"mat-icon",38),r(39,"chevron_left"),i()(),a(40,"div",39),g(41,qe,2,1),i()(),a(42,"section",40)(43,"div",28)(44,"div",29)(45,"mat-icon"),r(46,"topic"),i(),a(47,"h2"),r(48,"\u05E0\u05D5\u05E9\u05D0\u05D9\u05DD \u05D7\u05E9\u05D5\u05D1\u05D9\u05DD"),i()(),a(49,"a",34)(50,"span"),r(51,"\u05DC\u05DB\u05DC \u05D4\u05E0\u05D5\u05E9\u05D0\u05D9\u05DD"),i(),a(52,"mat-icon"),r(53,"chevron_left"),i()()(),a(54,"div",41),g(55,Ye,7,0,"div",32)(56,tt,2,0),i()()()),n&2){let e,o=_();s(14),u(o.dashboardService.upcomingEventsByDay().length===0?14:15),s(15),u(o.dashboardService.myTasks().length===0?29:30),s(12),u((e=o.dashboardService.shoppingStatus())?41:-1,e),s(14),u(o.dashboardService.importantTopics().length===0?55:56)}}var ue=class n{dashboardService=x(I);familyService=x(T);todayFormatted=new Date().toLocaleDateString("he-IL",{weekday:"long",day:"numeric",month:"long"});ngOnInit(){this.dashboardService.loadDashboard()}getCategoryColor(t){return re(t.event.category).color}formatEventTime(t){return t.event.isAllDay?"\u05DB\u05DC \u05D4\u05D9\u05D5\u05DD":t.instanceStart.toLocaleTimeString("he-IL",{hour:"2-digit",minute:"2-digit"})}getInitial(t){return t.charAt(0)}getTopicCategoryColor(t){return L(t).color}getTopicCategoryIcon(t){return L(t).icon}getTaskPriorityColor(t){return B(t).color}getTaskPriorityIcon(t){return B(t).icon}getEventChildren(t){return this.familyService.getChildren(t.event.childrenIds||[])}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=z({type:n,selectors:[["app-dashboard-view"]],decls:14,vars:6,consts:[[1,"dashboard"],[1,"welcome-header"],[1,"greeting-section"],[1,"greeting"],[1,"user-name"],[1,"date-display"],[1,"quick-stats"],[1,"kids-strip"],[1,"loading-container"],[1,"dashboard-grid"],[1,"stat-chip"],[1,"stat-value"],[1,"stat-label"],[1,"stat-chip","warning"],[1,"kids-strip-label"],[1,"kids-strip-items"],[1,"kid-chip",3,"--child-color"],[1,"kid-chip"],[1,"kid-avatar"],[1,"kid-name"],[1,"kid-badges"],[1,"kid-badge","events"],[1,"kid-badge","rides"],[1,"skeleton-grid"],[1,"skeleton-card","large"],[1,"skeleton-card"],[1,"skeleton-card","wide"],[1,"card","events-card"],[1,"card-header"],[1,"card-title"],["routerLink","/app/calendar","matRipple","",1,"card-action"],[1,"card-content","events-timeline"],[1,"empty-state"],[1,"card","tasks-card"],["routerLink","/app/topics","matRipple","",1,"card-action"],[1,"card-content","tasks-list"],[1,"empty-state","compact"],["routerLink","/app/shopping","matRipple","",1,"card","shopping-card"],[1,"nav-arrow"],[1,"card-content"],[1,"card","topics-card"],[1,"card-content","topics-list"],[1,"empty-hint"],[1,"day-group",3,"is-today"],[1,"day-group"],[1,"day-header"],[1,"day-label"],[1,"event-count"],[1,"events-list"],[1,"event-item",3,"--category-color"],[1,"more-events"],[1,"event-item"],[1,"event-time"],[1,"event-details"],[1,"event-title"],[1,"ride-badge"],[1,"event-children"],[1,"child-badge",3,"background"],[1,"child-badge"],["matRipple","",1,"task-item",3,"routerLink","overdue","due-soon"],["matRipple","",1,"task-item",3,"routerLink"],[1,"task-status-indicator"],[1,"task-content"],[1,"task-title"],[1,"task-meta"],[1,"task-topic"],[1,"task-due",3,"overdue"],[1,"task-priority"],[1,"task-due"],[1,"shopping-progress"],[1,"progress-header"],[1,"progress-label"],[1,"progress-count"],[1,"progress-bar-container"],[1,"progress-bar-fill"],[1,"progress-percentage"],[1,"shopping-active"],["matRipple","",1,"topic-item",3,"routerLink","urgent"],["matRipple","",1,"topic-item",3,"routerLink"],[1,"topic-icon"],[1,"topic-info"],[1,"topic-title"],[1,"topic-meta"],[1,"deadline",3,"soon"],[1,"task-progress"],[1,"topic-progress-ring"],["viewBox","0 0 36 36"],["d",`M18 2.0845
                            a 15.9155 15.9155 0 0 1 0 31.831
                            a 15.9155 15.9155 0 0 1 0 -31.831`,1,"ring-bg"],["d",`M18 2.0845
                            a 15.9155 15.9155 0 0 1 0 31.831
                            a 15.9155 15.9155 0 0 1 0 -31.831`,1,"ring-fill"],[1,"ring-text"],[1,"deadline"]],template:function(e,o){if(e&1&&(a(0,"div",0)(1,"header",1)(2,"div",2)(3,"h1",3),r(4),a(5,"span",4),r(6),i()(),a(7,"p",5),r(8),i()(),a(9,"div",6),g(10,Me,21,9),i()(),g(11,Ee,9,0,"section",7),g(12,Oe,6,0,"div",8)(13,nt,57,4,"div",9),i()),e&2){let d;s(4),f(" ",o.dashboardService.greeting(),", "),s(2),h(o.dashboardService.userName()),s(2),h(o.todayFormatted),s(2),u((d=o.dashboardService.stats())?10:-1,d),s(),u(o.dashboardService.childrenOverview().length>0?11:-1),s(),u(o.dashboardService.isLoading()?12:13)}},dependencies:[q,Z,Y,de,se,oe,ge,W,Q,G],styles:['.dashboard[_ngcontent-%COMP%]{min-height:100%;padding-bottom:2rem;animation:_ngcontent-%COMP%_fadeIn .4s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}.welcome-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:.75rem;margin-bottom:1.25rem;padding:.75rem 1rem;background:var(--surface-primary);border:1px solid var(--border-subtle);border-radius:1rem}@media(min-width:768px){.welcome-header[_ngcontent-%COMP%]{padding:.875rem 1.25rem;gap:1rem}}.greeting-section[_ngcontent-%COMP%]{display:flex;align-items:baseline;gap:.5rem;flex-wrap:wrap}.greeting[_ngcontent-%COMP%]{font-family:"Rubik",var(--font-family-display);font-size:1.1rem;font-weight:600;margin:0;color:var(--text-primary);line-height:1.3}@media(min-width:768px){.greeting[_ngcontent-%COMP%]{font-size:1.25rem}}.user-name[_ngcontent-%COMP%]{color:var(--color-primary)}.date-display[_ngcontent-%COMP%]{font-size:.8rem;color:var(--text-secondary);margin:0}@media(max-width:480px){.date-display[_ngcontent-%COMP%]{width:100%;margin-top:.125rem}}.quick-stats[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-wrap:wrap}.stat-chip[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;background:var(--surface-secondary);padding:.375rem .625rem;border-radius:1.5rem;font-size:.75rem;transition:all .2s ease;color:var(--text-primary)}.stat-chip[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;color:var(--text-secondary)}.stat-chip[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-weight:600;font-size:.85rem;color:var(--text-primary)}.stat-chip[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{color:var(--text-secondary)}.stat-chip.has-value[_ngcontent-%COMP%]{background:var(--color-primary-alpha)}.stat-chip.has-value[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--color-primary)}.stat-chip.has-value[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%], .stat-chip.has-value[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{color:var(--color-primary)}.stat-chip.warning.has-value[_ngcontent-%COMP%]{background:#f59e0b26}.stat-chip.warning.has-value[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .stat-chip.warning.has-value[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%], .stat-chip.warning.has-value[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{color:var(--color-warning, #f59e0b)}.loading-container[_ngcontent-%COMP%]{padding:1rem 0}.skeleton-grid[_ngcontent-%COMP%]{display:grid;gap:1rem;grid-template-columns:1fr}@media(min-width:768px){.skeleton-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}.skeleton-card[_ngcontent-%COMP%]{background:linear-gradient(90deg,var(--surface-secondary) 25%,var(--surface-hover) 50%,var(--surface-secondary) 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_shimmer 1.5s infinite;border-radius:1rem;height:180px}.skeleton-card.large[_ngcontent-%COMP%]{height:280px}@media(min-width:768px){.skeleton-card.wide[_ngcontent-%COMP%]{grid-column:span 2}}@keyframes _ngcontent-%COMP%_shimmer{0%{background-position:200% 0}to{background-position:-200% 0}}.dashboard-grid[_ngcontent-%COMP%]{display:grid;gap:1rem;grid-template-columns:1fr}@media(min-width:768px){.dashboard-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:1.25rem}}@media(min-width:1024px){.dashboard-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}.card[_ngcontent-%COMP%]{background:var(--surface-primary);border-radius:1.25rem;border:1px solid var(--border-subtle);overflow:hidden;transition:all .25s ease;animation:_ngcontent-%COMP%_cardSlideIn .4s ease-out backwards}.card[_ngcontent-%COMP%]:nth-child(1){animation-delay:.05s}.card[_ngcontent-%COMP%]:nth-child(2){animation-delay:.1s}.card[_ngcontent-%COMP%]:nth-child(3){animation-delay:.15s}.card[_ngcontent-%COMP%]:nth-child(4){animation-delay:.2s}.card[_ngcontent-%COMP%]:hover{border-color:var(--border-default);box-shadow:0 4px 20px #0000000f}@keyframes _ngcontent-%COMP%_cardSlideIn{0%{opacity:0;transform:translateY(16px)}to{opacity:1;transform:translateY(0)}}.card-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:.625rem 1rem;border-bottom:1px solid var(--border-subtle)}.card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.375rem}.card-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--color-primary);font-size:18px;width:18px;height:18px}.card-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:"Rubik",var(--font-family-display);font-size:.85rem;font-weight:600;margin:0;color:var(--text-primary)}.card-action[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.125rem;color:var(--color-primary);font-size:.7rem;font-weight:500;text-decoration:none;padding:.25rem .5rem;border-radius:.75rem;transition:all .2s ease}.card-action[_ngcontent-%COMP%]:hover{background:var(--color-primary-alpha)}.card-action[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.card-content[_ngcontent-%COMP%]{padding:.75rem 1rem}.nav-arrow[_ngcontent-%COMP%]{color:var(--text-tertiary);transition:transform .2s ease}.shopping-card[_ngcontent-%COMP%]:hover   .nav-arrow[_ngcontent-%COMP%]{transform:translate(-4px)}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:2rem 1rem;text-align:center;color:var(--text-tertiary)}.empty-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;margin-bottom:.75rem;opacity:.5}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.95rem;color:var(--text-secondary)}.empty-state[_ngcontent-%COMP%]   .empty-hint[_ngcontent-%COMP%]{font-size:.8rem;margin-top:.25rem;opacity:.7}.empty-state.compact[_ngcontent-%COMP%]{padding:1.5rem 1rem}.empty-state.compact[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:36px;width:36px;height:36px;margin-bottom:.5rem}@media(min-width:768px){.events-card[_ngcontent-%COMP%]{grid-row:span 2}}.events-timeline[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;max-height:400px;overflow-y:auto;padding-left:.5rem}.events-timeline[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px}.events-timeline[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.events-timeline[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--border-subtle);border-radius:2px}.day-group[_ngcontent-%COMP%]{position:relative;padding-right:1rem}.day-group[_ngcontent-%COMP%]:before{content:"";position:absolute;right:0;top:.5rem;bottom:0;width:2px;background:var(--border-subtle);border-radius:1px}.day-group.is-today[_ngcontent-%COMP%]:before{background:var(--color-primary)}.day-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:.625rem}.day-header[_ngcontent-%COMP%]   .day-label[_ngcontent-%COMP%]{font-weight:600;font-size:.9rem;color:var(--text-primary)}.is-today[_ngcontent-%COMP%]   .day-header[_ngcontent-%COMP%]   .day-label[_ngcontent-%COMP%]{color:var(--color-primary)}.day-header[_ngcontent-%COMP%]   .event-count[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-tertiary)}.events-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.event-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.625rem .875rem;background:var(--surface-secondary);border-radius:.75rem;border-right:3px solid var(--category-color, var(--color-primary));transition:all .2s ease}.event-item[_ngcontent-%COMP%]:hover{background:var(--surface-hover);transform:translate(-2px)}.event-time[_ngcontent-%COMP%]{font-size:.75rem;font-weight:500;color:var(--text-secondary);min-width:40px}.event-details[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;gap:.5rem;min-width:0}.event-title[_ngcontent-%COMP%]{font-size:.875rem;color:var(--text-primary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ride-badge[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:20px;height:20px;background:var(--color-warning-alpha, rgba(255, 193, 7, .15));border-radius:50%;flex-shrink:0}.ride-badge[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:12px;width:12px;height:12px;color:var(--color-warning, #f59e0b)}.event-children[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;flex-shrink:0}.child-badge[_ngcontent-%COMP%]{width:22px;height:22px;border-radius:50%;color:#fff;display:flex;align-items:center;justify-content:center;font-family:"Rubik",var(--font-family-display);font-weight:600;font-size:.7rem;flex-shrink:0;box-shadow:0 1px 2px #0000001a}.more-events[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-tertiary);padding-right:.875rem}.kids-strip[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:.625rem 1rem;margin-bottom:1rem;background:var(--surface-primary);border:1px solid var(--border-subtle);border-radius:.875rem;animation:_ngcontent-%COMP%_fadeIn .4s ease-out backwards;animation-delay:.1s}.kids-strip-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.375rem;color:var(--text-secondary);font-size:.8rem;font-weight:500;flex-shrink:0}.kids-strip-label[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;color:var(--text-tertiary)}.kids-strip-items[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;overflow-x:auto;flex:1;padding:.125rem 0}.kids-strip-items[_ngcontent-%COMP%]::-webkit-scrollbar{height:0}.kid-chip[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.625rem;padding:.5rem 1rem .5rem .5rem;background:var(--surface-secondary);border-radius:2rem;border:1px solid transparent;transition:all .2s ease;flex-shrink:0;min-width:120px}.kid-chip[_ngcontent-%COMP%]:hover{background:var(--surface-hover);border-color:var(--child-color)}.kid-avatar[_ngcontent-%COMP%]{width:28px;height:28px;border-radius:50%;background:var(--child-color);color:#fff;display:flex;align-items:center;justify-content:center;font-family:"Rubik",var(--font-family-display);font-weight:600;font-size:.8rem;flex-shrink:0}.kid-name[_ngcontent-%COMP%]{font-size:.85rem;font-weight:500;color:var(--text-primary);white-space:nowrap}.kid-badges[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem}.kid-badge[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.125rem;font-size:.7rem;color:var(--text-tertiary)}.kid-badge[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:12px;width:12px;height:12px}.kid-badge.rides[_ngcontent-%COMP%]{color:var(--color-warning, #f59e0b)}.shopping-card[_ngcontent-%COMP%]{cursor:pointer}.shopping-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{border-bottom:none;padding-bottom:0}.shopping-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{padding-top:.5rem}.shopping-progress[_ngcontent-%COMP%]{padding:.5rem 0}.progress-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:.5rem}.progress-label[_ngcontent-%COMP%]{font-size:.9rem;font-weight:500;color:var(--text-primary)}.progress-count[_ngcontent-%COMP%]{font-size:.8rem;color:var(--text-secondary)}.progress-bar-container[_ngcontent-%COMP%]{height:8px;background:var(--surface-secondary);border-radius:4px;overflow:hidden}.progress-bar-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,var(--color-primary),color-mix(in srgb,var(--color-primary) 80%,#10b981));border-radius:4px;transition:width .4s ease}.progress-bar-fill.complete[_ngcontent-%COMP%]{background:linear-gradient(90deg,#10b981,#34d399)}.progress-percentage[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-tertiary);text-align:left;margin-top:.375rem}.shopping-active[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-top:.75rem;padding:.5rem .75rem;background:var(--color-success-alpha, rgba(16, 185, 129, .1));border-radius:.5rem;color:var(--color-success, #10b981);font-size:.8rem;font-weight:500}.shopping-active[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;animation:_ngcontent-%COMP%_pulse 2s infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.5}}@media(min-width:768px){.topics-card[_ngcontent-%COMP%]{grid-column:span 2}}.topics-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}@media(min-width:768px){.topics-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr)}}@media(min-width:1024px){.topics-list[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}.topic-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.875rem;padding:.875rem 1rem;background:var(--surface-secondary);border-radius:.875rem;text-decoration:none;transition:all .2s ease;border:1px solid transparent}.topic-item[_ngcontent-%COMP%]:hover{background:var(--surface-hover);border-color:var(--border-default);transform:translateY(-1px)}.topic-item.urgent[_ngcontent-%COMP%]{border-color:var(--color-error-alpha, rgba(239, 68, 68, .3));background:var(--color-error-alpha, rgba(239, 68, 68, .05))}.topic-item.urgent[_ngcontent-%COMP%]:hover{border-color:var(--color-error, #ef4444)}.topic-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:.75rem;display:flex;align-items:center;justify-content:center;flex-shrink:0}.topic-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff;font-size:20px;width:20px;height:20px}.topic-info[_ngcontent-%COMP%]{flex:1;min-width:0}.topic-title[_ngcontent-%COMP%]{display:block;font-size:.9rem;font-weight:500;color:var(--text-primary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-bottom:.25rem}.topic-meta[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;font-size:.75rem;color:var(--text-tertiary)}.deadline.soon[_ngcontent-%COMP%]{color:var(--color-error, #ef4444);font-weight:500}.topic-progress-ring[_ngcontent-%COMP%]{position:relative;width:40px;height:40px;flex-shrink:0}.topic-progress-ring[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:100%;height:100%;transform:rotate(-90deg)}.topic-progress-ring[_ngcontent-%COMP%]   .ring-bg[_ngcontent-%COMP%]{fill:none;stroke:var(--surface-tertiary, #e5e7eb);stroke-width:3}.topic-progress-ring[_ngcontent-%COMP%]   .ring-fill[_ngcontent-%COMP%]{fill:none;stroke:var(--color-primary);stroke-width:3;stroke-linecap:round;transition:stroke-dasharray .4s ease}.topic-progress-ring[_ngcontent-%COMP%]   .ring-text[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:.6rem;font-weight:600;color:var(--text-secondary)}.tasks-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.task-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.625rem;padding:.625rem .75rem;background:var(--surface-secondary);border-radius:.75rem;text-decoration:none;transition:all .2s ease;border:1px solid transparent}.task-item[_ngcontent-%COMP%]:hover{background:var(--surface-hover);border-color:var(--border-default);transform:translate(-2px)}.task-item.overdue[_ngcontent-%COMP%]{border-color:var(--color-error-alpha, rgba(239, 68, 68, .3));background:var(--color-error-alpha, rgba(239, 68, 68, .05))}.task-item.overdue[_ngcontent-%COMP%]   .task-status-indicator[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--color-error, #ef4444)}.task-item.due-soon[_ngcontent-%COMP%]{border-color:var(--color-warning-alpha, rgba(245, 158, 11, .3));background:var(--color-warning-alpha, rgba(245, 158, 11, .05))}.task-status-indicator[_ngcontent-%COMP%]{width:32px;height:32px;display:flex;align-items:center;justify-content:center;flex-shrink:0}.task-status-indicator[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:22px;width:22px;height:22px;color:var(--text-tertiary)}.task-status-indicator.in-progress[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--color-primary);animation:_ngcontent-%COMP%_spin 2s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.task-content[_ngcontent-%COMP%]{flex:1;min-width:0}.task-title[_ngcontent-%COMP%]{display:block;font-size:.9rem;font-weight:500;color:var(--text-primary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-bottom:.25rem}.task-meta[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;font-size:.75rem;color:var(--text-tertiary)}.task-topic[_ngcontent-%COMP%], .task-due[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem}.task-topic[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .task-due[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px}.task-due.overdue[_ngcontent-%COMP%]{color:var(--color-error, #ef4444);font-weight:500}.task-priority[_ngcontent-%COMP%]{width:28px;height:28px;border-radius:.5rem;display:flex;align-items:center;justify-content:center;flex-shrink:0}.task-priority[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;color:#fff}[data-theme=dark][_nghost-%COMP%]   .card[_ngcontent-%COMP%], [data-theme=dark]   [_nghost-%COMP%]   .card[_ngcontent-%COMP%]{box-shadow:0 2px 8px #0003}@media(prefers-color-scheme:dark){:not([data-theme=light])[_nghost-%COMP%]   .card[_ngcontent-%COMP%], :not([data-theme=light])   [_nghost-%COMP%]   .card[_ngcontent-%COMP%]{box-shadow:0 2px 8px #0003}}']})};export{ue as DashboardViewComponent};
